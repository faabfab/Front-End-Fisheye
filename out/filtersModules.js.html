<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: filtersModules.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: filtersModules.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * fonction qui retourne le tableau des médias ranger selon la popularité croissante
 * @param {HTMLElement} mediaCards conteneur des médias
 * @returns {Array}
 */
function popularityFilter(mediaCards) {
    let tab = []
    mediaCards.forEach(mediaCard => {
        let mediaLike = mediaCard.querySelector('.likes_number')
        let dataElement = new Object()
        dataElement.likes = mediaLike.textContent
        dataElement.element = mediaCard
        tab.push(dataElement)
        });
    tab.sort(function(a,b){
        return a.likes - b.likes
    })
    tab = tab.reverse()
    return tab
}

/**
 * fonction qui retourne le tableau des médias ranger selon la date décroissante
 * @param {HTMLElement} mediaCards conteneur des médias
 * @returns {Array}
 */
function dateFilter(mediaCards) {
    let tab = []
    mediaCards.forEach(mediaCard => {
        let mediaFigCaption = mediaCard.querySelector('figcaption')
        let mediaDate = mediaFigCaption.getAttribute('data-date')
        let dataDateElement = new Object()
        dataDateElement.date = mediaDate
        dataDateElement.element = mediaCard
        tab.push(dataDateElement)
    });
    tab.sort(function(a,b){
        if (a.date &lt; b.date)
            return -1;
        if (a.date > b.date)
            return 1;
        return 0;
    })
    tab = tab.reverse()
    return tab
    
}

/**
 * fonction qui retourne le tableau des médias ranger selon l'ordre alphabétique des titres
 * @param {HTMLElement} mediaCards conteneur des médias
 * @returns {Array}
 */
function titleFilter(mediaCards) {
    let tab = []
    mediaCards.forEach(mediaCard => {
        let mediaTitle = mediaCard.querySelector('h2')
        let dataTitleElement = new Object()
        dataTitleElement.title = mediaTitle.textContent
        dataTitleElement.element = mediaCard
        tab.push(dataTitleElement)
    });
    tab.sort(function (a,b) {
        // Si  est inférieur à 0, on trie a avec un indice inférieur à b (a sera classé avant b)
        // Si renvoie 0, on laisse a et b inchangés l'un par rapport à l'autre, mais triés par rapport à tous les autres éléments
        // Si est supérieur à 0, on trie b avec un indice inférieur à a
        if (a.title &lt; b.title)
            return -1;
        if (a.title > b.title)
            return 1;
        // a doit être égal à b
        return 0;
    })
    return tab
}

/**
 * Fonction qui retourne un tableau d'éléments selon le filtre sélectionné
 * @param {string} filterName nom du filtre
 * @returns {Array}
 */
function mediasDatasReturn(filterName) {
    const mediasCards = document.querySelectorAll('article')

    switch (filterName) {
        case 'Popularité':
            return popularityFilter(mediasCards)
        case 'Date':
            return dateFilter(mediasCards)
        case 'Titre':
            return titleFilter(mediasCards)
        default:
            break;
    }
}

export {
    mediasDatasReturn
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#dateFilter">dateFilter</a></li><li><a href="global.html#mediasDatasReturn">mediasDatasReturn</a></li><li><a href="global.html#popularityFilter">popularityFilter</a></li><li><a href="global.html#titleFilter">titleFilter</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Aug 14 2023 15:23:37 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
